import{_ as P,d as N,c as n,o as i,a as e,t as s,b as O,r as u,w as Q,e as q,f as G,g as X,h as c,i as v,I as Z,j as ee,k as te,l as oe,m as se,p as ie,q as ae,s as ne,u as le,v as re,x as C,n as de,y as r,z as S,A as z}from"./index-kzrcPye1.js";import{i as H,L as ce,C as ue,u as x}from"./apexcharts.esm-D-nivPEQ.js";const pe=N({name:"ResponseTimeChart",props:{title:{type:String,default:"Tiempo medio de respuesta"},data:{type:Array,required:!0},currentValue:{type:Number,required:!0},maxValue:{type:Number,default:300},unit:{type:String,default:"ms"}},setup(o){const t=u(null);let d=null;const y=()=>{if(!t.value)return;d=H(t.value);const p=[];for(let m=o.data.length-1;m>=0;m--)p.push("-".concat(m,"m"));const b={grid:{top:10,right:10,bottom:20,left:40,containLabel:!0},xAxis:{type:"category",data:p,axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.2)"}},axisLabel:{color:"#aaa",fontSize:10}},yAxis:{type:"value",min:0,max:o.maxValue,axisLine:{lineStyle:{color:"rgba(255, 255, 255, 0.2)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},axisLabel:{color:"#aaa",fontSize:10}},series:[{data:o.data,type:"line",smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{color:"#F08A24",width:3},itemStyle:{color:"#F08A24"},areaStyle:{color:new ce(0,0,0,1,[{offset:0,color:"rgba(240, 138, 36, 0.5)"},{offset:1,color:"rgba(240, 138, 36, 0.1)"}])}}],tooltip:{trigger:"axis",backgroundColor:"rgba(0, 0, 0, 0.7)",borderColor:"#F08A24",textStyle:{color:"#fff"},formatter:function(m){return"".concat(m[0].value).concat(o.unit)}},animation:!0};d.setOption(b)};Q(()=>o.data,()=>{if(d){const p=[];for(let b=o.data.length-1;b>=0;b--)p.push("-".concat(b,"m"));d.setOption({xAxis:{data:p},series:[{data:o.data}]})}},{deep:!0});const j=()=>{d&&d.resize()};return q(()=>{setTimeout(()=>{y(),window.addEventListener("resize",j)},300)}),G(()=>{d&&d.dispose(),window.removeEventListener("resize",j)}),{chartContainer:t}}}),ve={class:"chart-container"},be={class:"kpi-value"},me={class:"unit"},he={ref:"chartContainer",class:"echarts-container"};function fe(o,t,d,y,j,p){return i(),n("div",ve,[e("h3",null,s(o.title),1),e("div",be,[O(s(o.currentValue),1),e("span",me,s(o.unit),1)]),e("div",he,null,512)])}const ge=P(pe,[["render",fe],["__scopeId","data-v-89dbacce"]]),ye=N({name:"TecnicoPage",components:{IonPage:re,IonHeader:le,IonToolbar:ne,IonTitle:ae,IonContent:ie,IonGrid:se,IonRow:oe,IonCol:te,IonButtons:ee,IonMenuButton:Z,ResponseTimeChart:ge},setup(){const o=u(null),t=u(null),d=u(null),y=u(null),j=u(245),p=u(99.8),b=u(3.7),m=u(1.2),A=u(96),M=u(null),$=C(()=>j.value<=230),I=C(()=>p.value>=99.8),w=C(()=>b.value<=2),F=C(()=>m.value<=1.5),E=C(()=>A.value>=98),B=f=>{M.value=f},D=()=>{M.value=null},a=u([230,242,255,260,248,245,238,242,250,245]),W=u([1.8,1.7,1.6,1.5,1.4,1.3,1.3,1.2,1.2,1.2]);let _=null,g=null,k=null,T=null,V=null;const L=[99.7,99.8,99.9,99.7,99.6,99.8,99.9,99.8,99.7,99.8,99.9,99.8],R=["12:00","12:05","12:10","12:15","12:20","12:25","12:30","12:35","12:40","12:45","12:50","12:55"],Y=()=>{if(_){const f=(99.5+Math.random()*.5).toFixed(1);p.value=parseFloat(f),L.push(f),L.shift();const h=new Date,l="".concat(h.getHours(),":").concat(h.getMinutes().toString().padStart(2,"0"));R.push(l),R.shift(),_.data.labels=R,_.data.datasets[0].data=L,_.update()}},J=()=>{if(t.value)try{g=H(t.value,"dark");const h={backgroundColor:"transparent",tooltip:{position:"top",backgroundColor:"rgba(0, 0, 0, 0.9)",borderColor:"#F08A24",borderWidth:1,textStyle:{color:"#fff",fontSize:12},formatter:function(l){const U=["Sem 1","Sem 2","Sem 3","Sem 4","Sem 5","Sem 6"],K=["üî• Da√±ada","‚ùì Otro","üìê √Ångulo","üí° Iluminaci√≥n"];return"<strong>".concat(K[l.data[1]],"</strong><br/>\n                      ").concat(U[l.data[0]],': <span style="color: #F08A24">').concat(l.data[2],"%</span> errores")}},grid:{height:"60%",top:"10%",left:"20%",right:"10%",bottom:"30%"},xAxis:{type:"category",data:["Sem 1","Sem 2","Sem 3","Sem 4","Sem 5","Sem 6"],splitArea:{show:!0,areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},axisLabel:{color:"#aaa",fontSize:10,fontWeight:"bold"},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{type:"category",data:["üî• Da√±ada","‚ùì Otro","üìê √Ångulo","üí° Iluminaci√≥n"],splitArea:{show:!0,areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},axisLabel:{color:"#aaa",fontSize:10,fontWeight:"bold",margin:10},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},visualMap:{min:0,max:8,calculable:!1,orient:"horizontal",left:"center",bottom:"5%",textStyle:{color:"#aaa",fontSize:9},inRange:{color:["#0D4F3C","#2E7D32","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#F44336"]},show:!1},series:[{name:"Errores de escaneo MTG",type:"heatmap",data:[[0,0,6.2],[1,0,5.8],[2,0,7.1],[3,0,4.9],[4,0,5.5],[5,0,6.8],[0,1,2.3],[1,1,3.1],[2,1,2.8],[3,1,3.5],[4,1,2.9],[5,1,3.2],[0,2,4.1],[1,2,3.7],[2,2,4.8],[3,2,3.9],[4,2,4.3],[5,2,4],[0,3,1.8],[1,3,2.2],[2,3,1.5],[3,3,2.6],[4,3,1.9],[5,3,2.1]],label:{show:!0,color:"#fff",fontSize:10,fontWeight:"bold",formatter:function(l){return l.data[2]+"%"},shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:2},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(240, 138, 36, 0.8)",borderColor:"#F08A24",borderWidth:2},label:{fontSize:11,fontWeight:"bold"}},itemStyle:{borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,borderRadius:3}}]};g.setOption(h),setTimeout(()=>{g&&g.resize()},100)}catch(f){console.error("Error inicializando el mapa de calor:",f)}};return q(async()=>{await de(),setTimeout(()=>{if(o.value){const h=o.value.getContext("2d");_=new ue(h,{type:"line",data:{labels:R,datasets:[{label:"Disponibilidad (%)",data:L,borderColor:"#F08A24",backgroundColor:"rgba(240, 138, 36, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{min:99,max:100,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#aaa"}},x:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#aaa"}}}}})}if(J(),d.value){const h={series:[{name:"Tiempo de carga",data:W.value}],chart:{type:"bar",height:"100%",toolbar:{show:!1},background:"transparent",foreColor:"#aaa"},colors:["#F08A24"],plotOptions:{bar:{borderRadius:4,columnWidth:"60%",dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:function(l){return l+"s"},offsetY:-20,style:{fontSize:"11px",colors:["#fff"],fontWeight:"bold"}},xaxis:{categories:["Min 1","Min 2","Min 3","Min 4","Min 5","Min 6","Min 7","Min 8","Min 9","Min 10"],labels:{style:{colors:"#aaa",fontSize:"11px"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{min:0,max:2,labels:{style:{colors:"#aaa",fontSize:"11px"},formatter:function(l){return l+"s"}}},grid:{borderColor:"rgba(255, 255, 255, 0.1)",strokeDashArray:3,xaxis:{lines:{show:!1}}},tooltip:{theme:"dark",y:{formatter:function(l){return l+" segundos"}}},annotations:{yaxis:[{y:1.5,borderColor:"#FF4560",borderWidth:2,strokeDashArray:5,label:{borderColor:"#FF4560",style:{color:"#fff",background:"#FF4560",fontSize:"10px"},text:"Objetivo: 1.5s"}}]}};k=new x(d.value,h),k.render()}if(y.value){const h={series:[96],chart:{height:"100%",type:"radialBar",toolbar:{show:!1},background:"transparent"},plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{margin:0,size:"70%",background:"transparent"},track:{background:"rgba(255, 255, 255, 0.1)",strokeWidth:"97%",margin:5,dropShadow:{enabled:!1}},dataLabels:{name:{show:!1},value:{offsetY:10,color:"#F08A24",fontSize:"26px",fontWeight:600,formatter:function(l){return l+"%"}}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#F08A24"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{dashArray:4},colors:["#F08A24"],labels:["Completadas"]};T=new x(y.value,h),T.render()}const f=()=>{g&&g.resize(),k&&k.render(),T&&T.render()};window.addEventListener("resize",f),V=setInterval(Y,3e3)},500)}),G(()=>{V&&clearInterval(V),g&&g.dispose(),k&&k.destroy(),T&&T.destroy(),_&&_.destroy(),window.removeEventListener("resize",()=>{})}),{currentResponseTime:j,systemAvailability:p,scanErrorRate:b,loadingTime:m,backupRate:A,responseTimeData:a,newsLoadingTimeData:W,availabilityChart:o,scanErrorChart:t,newsLoadingChart:d,backupChart:y,tooltipVisible:M,isResponseTimeObjectiveMet:$,isAvailabilityObjectiveMet:I,isScanErrorObjectiveMet:w,isLoadingTimeObjectiveMet:F,isBackupObjectiveMet:E,showObjectiveTooltip:B,hideObjectiveTooltip:D}}}),je={class:"dashboard-container"},we={class:"dashboard-card"},_e={class:"chart-container-with-objective"},ke={key:0,class:"icon-success"},Te={key:1,class:"icon-pending"},Oe={key:0,class:"objective-tooltip"},Me={class:"tooltip-content"},Ce={class:"dashboard-card"},Se={class:"chart-container-with-objective"},ze={key:0,class:"icon-success"},Ae={key:1,class:"icon-pending"},Fe={key:0,class:"objective-tooltip"},Le={class:"tooltip-content"},Re={class:"chart-container"},$e={class:"kpi-value"},Ie={class:"chart-wrapper"},Ee={ref:"availabilityChart"},Be={class:"dashboard-card"},De={class:"chart-container-with-objective"},Ve={key:0,class:"icon-success"},We={key:1,class:"icon-pending"},xe={key:0,class:"objective-tooltip"},Pe={class:"tooltip-content"},Ne={class:"chart-container"},qe={class:"kpi-value"},Ge={class:"chart-wrapper"},He={ref:"scanErrorChart",class:"heatmap-chart"},Ye={class:"dashboard-card"},Je={class:"chart-container-with-objective"},Ue={key:0,class:"icon-success"},Ke={key:1,class:"icon-pending"},Qe={key:0,class:"objective-tooltip"},Xe={class:"tooltip-content"},Ze={class:"chart-container"},et={class:"kpi-value"},tt={class:"chart-wrapper"},ot={ref:"newsLoadingChart"},st={class:"loading-info"},it={class:"info-item"},at={class:"info-value"},nt={class:"dashboard-card"},lt={class:"chart-container-with-objective"},rt={key:0,class:"icon-success"},dt={key:1,class:"icon-pending"},ct={key:0,class:"objective-tooltip"},ut={class:"tooltip-content"},pt={class:"chart-container"},vt={class:"kpi-value"},bt={class:"chart-wrapper"},mt={ref:"backupChart",class:"donut-chart-container"};function ht(o,t,d,y,j,p){const b=v("ion-menu-button"),m=v("ion-buttons"),A=v("ion-title"),M=v("ion-toolbar"),$=v("ion-header"),I=v("response-time-chart"),w=v("ion-col"),F=v("ion-row"),E=v("ion-grid"),B=v("ion-content"),D=v("ion-page");return i(),X(D,null,{default:c(()=>[r($,{translucent:!0},{default:c(()=>[r(M,{class:"dark-toolbar"},{default:c(()=>[r(m,{slot:"start"},{default:c(()=>[r(b,{color:"light"})]),_:1}),r(A,null,{default:c(()=>t[10]||(t[10]=[O("‚öôÔ∏è T√©cnico")])),_:1})]),_:1})]),_:1}),r(B,{class:"dark-content"},{default:c(()=>[e("div",je,[r(E,null,{default:c(()=>[r(F,null,{default:c(()=>[r(w,{size:"12","size-md":"6","size-lg":"4"},{default:c(()=>[e("div",we,[e("div",_e,[e("div",{class:"objective-icon",onMouseenter:t[0]||(t[0]=a=>o.showObjectiveTooltip("response")),onMouseleave:t[1]||(t[1]=(...a)=>o.hideObjectiveTooltip&&o.hideObjectiveTooltip(...a))},[o.isResponseTimeObjectiveMet?(i(),n("span",ke,"‚úÖ")):(i(),n("span",Te,"‚è≥"))],32),o.tooltipVisible==="response"?(i(),n("div",Oe,[e("div",Me,[t[11]||(t[11]=e("strong",null,"Objetivo: Reducir a 230ms pr√≥ximo mes",-1)),e("div",null,"Actual: "+s(o.currentResponseTime)+"ms",1),e("div",null,"Reducir: "+s(Math.max(0,o.currentResponseTime-230))+"ms",1),e("div",{class:z(o.isResponseTimeObjectiveMet?"status-success":"status-pending")},s(o.isResponseTimeObjectiveMet?"‚úÖ Objetivo cumplido":"‚è≥ En progreso"),3)])])):S("",!0),r(I,{title:"Tiempo medio de respuesta",data:o.responseTimeData,"current-value":o.currentResponseTime,maxValue:300,unit:"ms"},null,8,["data","current-value"])])])]),_:1}),r(w,{size:"12","size-md":"6","size-lg":"4"},{default:c(()=>[e("div",Ce,[e("div",Se,[e("div",{class:"objective-icon",onMouseenter:t[2]||(t[2]=a=>o.showObjectiveTooltip("availability")),onMouseleave:t[3]||(t[3]=(...a)=>o.hideObjectiveTooltip&&o.hideObjectiveTooltip(...a))},[o.isAvailabilityObjectiveMet?(i(),n("span",ze,"‚úÖ")):(i(),n("span",Ae,"‚è≥"))],32),o.tooltipVisible==="availability"?(i(),n("div",Fe,[e("div",Le,[t[12]||(t[12]=e("strong",null,"Objetivo: Mantener 99.8% constante",-1)),e("div",null,"Actual: "+s(o.systemAvailability)+"%",1),e("div",{class:z(o.isAvailabilityObjectiveMet?"status-success":"status-pending")},s(o.isAvailabilityObjectiveMet?"‚úÖ Objetivo cumplido":"‚ö†Ô∏è Por debajo del objetivo"),3)])])):S("",!0),e("div",Re,[t[14]||(t[14]=e("div",{class:"chart-header"},[e("h3",null,"Disponibilidad del sistema"),e("div",{class:"live-badge"},[e("div",{class:"pulse"}),e("span",null,"En vivo")])],-1)),e("div",$e,[O(s(o.systemAvailability),1),t[13]||(t[13]=e("span",{class:"unit"},"%",-1))]),e("div",Ie,[e("canvas",Ee,null,512)])])])])]),_:1}),r(w,{size:"12","size-md":"6","size-lg":"4"},{default:c(()=>[e("div",Be,[e("div",De,[e("div",{class:"objective-icon",onMouseenter:t[4]||(t[4]=a=>o.showObjectiveTooltip("scan")),onMouseleave:t[5]||(t[5]=(...a)=>o.hideObjectiveTooltip&&o.hideObjectiveTooltip(...a))},[o.isScanErrorObjectiveMet?(i(),n("span",Ve,"‚úÖ")):(i(),n("span",We,"‚è≥"))],32),o.tooltipVisible==="scan"?(i(),n("div",xe,[e("div",Pe,[t[15]||(t[15]=e("strong",null,"Objetivo: Reducir tasa error al 2%",-1)),t[16]||(t[16]=e("strong",null,"Para fin de a√±o",-1)),e("div",null,"Actual: "+s(o.scanErrorRate)+"%",1),e("div",null,"Reducir: "+s(Math.max(0,(o.scanErrorRate-2).toFixed(1)))+"%",1),e("div",{class:z(o.isScanErrorObjectiveMet?"status-success":"status-pending")},s(o.isScanErrorObjectiveMet?"‚úÖ Objetivo cumplido":"‚è≥ En progreso"),3)])])):S("",!0),e("div",Ne,[t[18]||(t[18]=e("h3",null,"üÉè Mapa de escaneos de cartas",-1)),e("div",qe,[O(s(o.scanErrorRate),1),t[17]||(t[17]=e("span",{class:"unit"},"%",-1))]),e("div",Ge,[e("div",He,null,512)]),t[19]||(t[19]=e("div",{class:"error-legend"},[e("div",{class:"legend-item"},[e("span",{class:"legend-color high"}),e("span",null,"Alto (>5%)")]),e("div",{class:"legend-item"},[e("span",{class:"legend-color medium"}),e("span",null,"Medio (2-5%)")]),e("div",{class:"legend-item"},[e("span",{class:"legend-color low"}),e("span",null,"Bajo (<2%)")])],-1))])])])]),_:1})]),_:1}),r(F,null,{default:c(()=>[r(w,{size:"12","size-md":"8"},{default:c(()=>[e("div",Ye,[e("div",Je,[e("div",{class:"objective-icon",onMouseenter:t[6]||(t[6]=a=>o.showObjectiveTooltip("loading")),onMouseleave:t[7]||(t[7]=(...a)=>o.hideObjectiveTooltip&&o.hideObjectiveTooltip(...a))},[o.isLoadingTimeObjectiveMet?(i(),n("span",Ue,"‚úÖ")):(i(),n("span",Ke,"‚è≥"))],32),o.tooltipVisible==="loading"?(i(),n("div",Qe,[e("div",Xe,[t[20]||(t[20]=e("strong",null,"Objetivo: Mantener ‚â§ 1.5s",-1)),t[21]||(t[21]=e("strong",null,"Estabilizar en 1.2s pr√≥ximos meses",-1)),e("div",null,"Actual: "+s(o.loadingTime)+"s",1),t[22]||(t[22]=e("div",null,"Meta futura: 1.2s",-1)),e("div",{class:z(o.isLoadingTimeObjectiveMet?"status-success":"status-pending")},s(o.isLoadingTimeObjectiveMet?"‚úÖ Objetivo cumplido":"‚ö†Ô∏è Por encima del objetivo"),3)])])):S("",!0),e("div",Ze,[t[26]||(t[26]=e("h3",null,"Tiempo de carga de noticias (√∫ltimos 10 min)",-1)),e("div",et,[O(s(o.loadingTime),1),t[23]||(t[23]=e("span",{class:"unit"},"s",-1))]),e("div",tt,[e("div",ot,null,512)]),e("div",st,[t[25]||(t[25]=e("div",{class:"info-item"},[e("span",{class:"info-label"},"Objetivo:"),e("span",{class:"info-value"},"< 1.5s")],-1)),e("div",it,[t[24]||(t[24]=e("span",{class:"info-label"},"Promedio:",-1)),e("span",at,s(o.loadingTime)+"s",1)])])])])])]),_:1}),r(w,{size:"12","size-md":"4"},{default:c(()=>[e("div",nt,[e("div",lt,[e("div",{class:"objective-icon",onMouseenter:t[8]||(t[8]=a=>o.showObjectiveTooltip("backup")),onMouseleave:t[9]||(t[9]=(...a)=>o.hideObjectiveTooltip&&o.hideObjectiveTooltip(...a))},[o.isBackupObjectiveMet?(i(),n("span",rt,"‚úÖ")):(i(),n("span",dt,"‚è≥"))],32),o.tooltipVisible==="backup"?(i(),n("div",ct,[e("div",ut,[t[27]||(t[27]=e("strong",null,"Objetivo: Incrementar tasa √©xito a 98%",-1)),e("div",null,"Actual: "+s(o.backupRate)+"%",1),e("div",null,"Incrementar: "+s(Math.max(0,98-o.backupRate))+"%",1),e("div",{class:z(o.isBackupObjectiveMet?"status-success":"status-pending")},s(o.isBackupObjectiveMet?"‚úÖ Objetivo cumplido":"‚è≥ En progreso"),3)])])):S("",!0),e("div",pt,[t[29]||(t[29]=e("h3",null,"Copias de seguridad completadas",-1)),e("div",vt,[O(s(o.backupRate),1),t[28]||(t[28]=e("span",{class:"unit"},"%",-1))]),e("div",bt,[e("div",mt,null,512)])])])])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})}const yt=P(ye,[["render",ht],["__scopeId","data-v-effbc7fb"]]);export{yt as default};
